<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸ“¦ Tutoriels d'installation â€“ Crimson Domination</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      margin: 0;
      padding: 20px;
      color: #eee;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: #1a1a1a;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }
    h1 {
      color: #00bfff;
      text-align: center;
      margin-bottom: 30px;
    }
    h2 {
      color: #00ff99;
      font-size: 20px;
      margin-top: 40px;
      border-top: 1px solid #333;
      padding-top: 20px;
    }
    .sep {
      color: #666;
      text-align: center;
      margin: 20px 0;
      letter-spacing: 2px;
    }
    pre {
      background-color: #2a2a2a;
      color: #00ff99;
      padding: 15px;
      border-radius: 5px;
      font-size: 14px;
      line-height: 1.6;
      white-space: pre-wrap;
      margin-bottom: 20px;
    }
    a {
      color: #00bfff;
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“¦ Tutoriels d'installation â€“ Crimson Domination</h1>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ§° INSTALLER LE PANEL PTERODACTYL AVEC LE SCRIPT AUTOMATIQUE</h2>
<pre>
# Connexion SSH Ã  votre VPS
ssh root@IP_DU_VPS

# TÃ©lÃ©charger le script officiel
bash <(curl -s https://raw.githubusercontent.com/pterodactyl-installer/pterodactyl-installer/main/install.sh)
    </pre>

    <h2>ğŸ”§ CONFIGURATION COMPLÃˆTE DU PANEL PTERODACTYL</h2>
<pre>
# Ã‰tapes principales aprÃ¨s installation automatique :

1. CrÃ©er la base de donnÃ©es dans MariaDB :
   mysql -u root -p
   CREATE DATABASE panel;
   CREATE USER 'ptero'@'127.0.0.1' IDENTIFIED BY 'motdepassefort';
   GRANT ALL PRIVILEGES ON panel.* TO 'ptero'@'127.0.0.1';
   FLUSH PRIVILEGES;
   EXIT;

2. Configurer l'environnement Laravel :
   cd /var/www/pterodactyl
   cp .env.example .env
   php artisan key:generate
   php artisan p:environment:setup
   php artisan p:environment:database
   php artisan migrate --seed --force
   php artisan p:user:make

3. Configurer Nginx pour le panel :
   nano /etc/nginx/sites-available/pterodactyl

   # Exemple de bloc :
   server {
       listen 80;
       server_name votre-domaine.fr;
       root /var/www/pterodactyl/public;

       index index.php;
       location / {
           try_files $uri $uri/ /index.php?$query_string;
       }

       location ~ \.(php|phar)$ {
           include snippets/fastcgi-php.conf;
           fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
           fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
           include fastcgi_params;
       }
   }

   ln -s /etc/nginx/sites-available/pterodactyl /etc/nginx/sites-enabled/pterodactyl
   systemctl restart nginx
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ“‚ CRÃ‰ER 5 SERVEURS VIA LE PANEL</h2>
<pre>
1. AccÃ©dez Ã  votre panel : https://votre-domaine-ou-ip
2. Connectez-vous en tant qu'administrateur
3. Allez dans : "Serveurs" > "CrÃ©er un serveur"
4. RÃ©pÃ©tez l'opÃ©ration pour les 5 serveurs :
   - Lobby
   - Survie1
   - Survie2
   - Minage
   - BungeeCord (ou Waterfall)

ğŸ’¡ Pensez Ã  dÃ©finir une allocation de RAM, un port, une image Docker valide (ex: ghcr.io/pterodactyl/yolks:java_17), et Ã  activer le serveur Wings associÃ©.
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ§  ALLOUER DE LA RAM Ã€ CHAQUE SERVEUR</h2>
<pre>
Lors de la crÃ©ation de chaque serveur :

1. Dans lâ€™onglet Â« Limites Â» :
   - MÃ©moire (RAM) : ex. 4096 pour 4 Go
   - MÃ©moire de swap : 0
   - CPU : 200 pour 2 cÅ“urs (200% d'un cÅ“ur)
   - Stockage : ex. 10240 pour 10 Go

2. Activer les limites :
   - Cochez Â« Appliquer les limites mÃ©moire Â»
   - Cochez Â« Bloquer sur dÃ©passement Â» si vous voulez Ã©viter les crash

ğŸ’¡ Exemple de rÃ©partition RAM sur un VPS 32 Go :
- Panel + Azuriom + MariaDB : 2-3 Go
- BungeeCord : 512 Mo Ã  1 Go
- Lobby : 2 Go
- Survie1 : 4 Go
- Survie2 : 4 Go
- Minage : 4 Go
- Discord Bot : < 256 Mo
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>âš™ï¸ ASTUCE POUR LANCEMENT AUTOMATIQUE DES SERVEURS</h2>
<pre>
# Assurez-vous que Wings est activÃ© au dÃ©marrage
sudo systemctl enable wings

# Les serveurs Pterodactyl se relanceront automatiquement aprÃ¨s reboot.
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸŒ INSTALLER UN SITE WEB (AZURIOM)</h2>
<pre>
# Installer Apache, PHP et MariaDB
sudo apt update && sudo apt install apache2 mariadb-server php php-mysql libapache2-mod-php unzip curl

# TÃ©lÃ©charger Azuriom
cd /var/www/html
sudo wget https://azuriom.com/download -O azuriom.zip
sudo unzip azuriom.zip
sudo chown -R www-data:www-data /var/www/html

# AccÃ©der au site via le navigateur
http://IP_DU_SERVEUR ou domaine pointÃ© vers le VPS
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ¤– CRÃ‰ER UN BOT DISCORD SIMPLIFIÃ‰ (PYTHON)</h2>
<pre>
# Installer Python et pip
sudo apt install python3 python3-pip -y

# CrÃ©er le bot (fichier bot.py)
mkdir ~/botdiscord && cd ~/botdiscord
nano bot.py

# Exemple de code
import discord
from discord.ext import commands

bot = commands.Bot(command_prefix="!")

@bot.event
async def on_ready():
    print(f"ConnectÃ© en tant que {bot.user}")

@bot.command()
async def ping(ctx):
    await ctx.send("Pong!")

bot.run("VOTRE_TOKEN")

# Installer dÃ©pendances et lancer
pip3 install -U discord.py
python3 bot.py
    </pre>

    <p style="text-align: center; margin-top: 50px;">
      <a href="recap.html">â¬…ï¸ Retour au rÃ©capitulatif</a>
    </p>
  <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<h2>ğŸ” SÃ‰CURISER LE VPS (UFW + FAIL2BAN)</h2>
<pre>
# Activer le pare-feu UFW (autoriser SSH + HTTP/HTTPS)
sudo ufw allow OpenSSH
sudo ufw allow http
sudo ufw allow https
sudo ufw enable

# Installer fail2ban pour bloquer les attaques bruteforce
sudo apt install fail2ban -y
sudo systemctl enable fail2ban --now
</pre>

<div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<h2>ğŸ”’ ACTIVER HTTPS AVEC LET'S ENCRYPT</h2>
<pre>
# Installer Certbot
sudo apt install certbot python3-certbot-nginx -y

# Lancer la gÃ©nÃ©ration HTTPS pour le panel
sudo certbot --nginx -d votre-domaine.fr

# Renouvellement automatique inclus
</pre>

<div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<h2>ğŸ“¦ SAUVEGARDE AUTOMATIQUE DES SERVEURS</h2>
<pre>
# CrÃ©er un script de backup simple
sudo nano /usr/local/bin/backup-ptero.sh

# Exemple de contenu :
#!/bin/bash
tar -czf /root/backups/pterodactyl-$(date +%F).tar.gz /var/lib/pterodactyl

# Rendre le script exÃ©cutable
chmod +x /usr/local/bin/backup-ptero.sh

# Lancer tous les jours Ã  3h du matin
crontab -e
0 3 * * * /usr/local/bin/backup-ptero.sh
</pre>

<div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<h2>ğŸ“§ CONFIGURER SMTP POUR LE PANEL</h2>
<pre>
# Modifier le fichier .env
cd /var/www/pterodactyl
nano .env

MAIL_MAILER=smtp
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=votre@email.com
MAIL_PASSWORD=motdepasse
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=votre@email.com
MAIL_FROM_NAME="Crimson Panel"

# Appliquer la config
php artisan config:clear
</pre>

  </div>
</body>
</html>
