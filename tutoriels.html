<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸ“¦ Tutoriels d'installation â€“ Crimson Domination</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      margin: 0;
      padding: 20px;
      color: #eee;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: #1a1a1a;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }
    h1 {
      color: #00bfff;
      text-align: center;
      margin-bottom: 30px;
    }
    h2 {
      color: #00ff99;
      font-size: 20px;
      margin-top: 40px;
      border-top: 1px solid #333;
      padding-top: 20px;
    }
    .sep {
      color: #666;
      text-align: center;
      margin: 20px 0;
      letter-spacing: 2px;
      font-weight: bold;
    }
    pre {
      background-color: #2a2a2a;
      color: #00ff99;
      padding: 15px;
      border-radius: 5px;
      font-size: 14px;
      line-height: 1.6;
      white-space: pre-wrap;
      margin-bottom: 20px;
    }
    a {
      color: #00bfff;
      text-decoration: underline;
    }
    /* Styles pour les sections de liens/boutons */
    .navigation-buttons-container { /* RenommÃ© pour Ãªtre plus gÃ©nÃ©rique pour plusieurs boutons */
        text-align: center;
        margin-top: 50px;
        padding-top: 20px;
        border-top: 1px solid #333;
        display: flex; /* Utilisation de flexbox pour aligner les boutons */
        justify-content: center; /* Centrer les boutons */
        gap: 20px; /* Espacement entre les boutons */
    }
    .navigation-buttons-container a {
        font-size: 1.1em;
        padding: 10px 20px;
        border: 1px solid #00bfff;
        border-radius: 5px;
        display: inline-block;
        text-decoration: none;
        color: #00bfff;
        transition: background-color 0.3s, color 0.3s;
    }
    .navigation-buttons-container a:hover {
        background-color: #00bfff;
        color: #1a1a1a;
        text-decoration: none;
    }
  </style>
</head>
<body>
  <div class="container">

    <h1>ğŸ“¦ Tutoriels d'installation â€“ Crimson Domination</h1>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ§  EXPLICATION COMPLÃˆTE DE L'INSTALLATION</h2>
    <pre>
Ce tutoriel couvre toutes les Ã©tapes pour installer un serveur de jeux complet sur un seul VPS OVH, incluant :

- Le panel Pterodactyl (gestion web)
- Le node Wings (lance les serveurs via Docker)
- 5 serveurs Minecraft (Lobby, Survie, Minage, Proxy...)
- Un site communautaire (Azuriom)
- Un bot Discord en Python
- La sÃ©curitÃ© (UFW, Fail2Ban, HTTPS, sauvegardes)

ğŸ’¡ Tout est optimisÃ© pour un VPS 8 vCPU / 32 Go de RAM / 160 Go NVMe.
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ§° INSTALLER LE PANEL PTERODACTYL AVEC LE SCRIPT AUTOMATIQUE</h2>
    <pre>
ssh root@IP_DU_VPS
bash &lt;(curl -s https://raw.githubusercontent.com/pterodactyl-installer/pterodactyl-installer/main/install.sh)
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ”§ CONFIGURATION COMPLÃˆTE DU PANEL PTERODACTYL</h2>
    <pre>
# CrÃ©er la base de donnÃ©es
mysql -u root -p
CREATE DATABASE panel;
CREATE USER 'ptero'@'127.0.0.1' IDENTIFIED BY 'motdepassefort';
GRANT ALL PRIVILEGES ON panel.* TO 'ptero'@'127.0.0.1';
FLUSH PRIVILEGES;
EXIT;

# Configurer le panel
cd /var/www/pterodactyl
cp .env.example .env
php artisan key:generate
php artisan p:environment:setup
php artisan p:environment:database
php artisan migrate --seed --force
php artisan p:user:make
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸŒ CONFIGURATION NGINX POUR LE PANEL</h2>
    <pre>
nano /etc/nginx/sites-available/pterodactyl

# Exemple :
server {
    listen 80;
    server_name votre-domaine.fr;
    root /var/www/pterodactyl/public;

    index index.php;
    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location ~ \.(php|phar)$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }
}

ln -s /etc/nginx/sites-available/pterodactyl /etc/nginx/sites-enabled/pterodactyl
systemctl restart nginx
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ“‚ CRÃ‰ER 5 SERVEURS VIA LE PANEL</h2>
    <pre>
1. AccÃ©der Ã  https://votre-domaine-ou-ip
2. Connexion admin &gt; Serveurs &gt; CrÃ©er un serveur
3. Exemple de serveurs :
   - Lobby
   - Survie1
   - Survie2
   - Minage
   - BungeeCord
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ§  ALLOUER DE LA RAM Ã€ CHAQUE SERVEUR</h2>
    <pre>
- RAM : 4096 (4 Go)
- CPU : 200 (2 cÅ“urs logiques)
- Stockage : 10240 (10 Go)
- Swap : 0

ğŸ’¡ RÃ©partition idÃ©ale (VPS 32 Go) :
- Panel + Azuriom : 2-3 Go
- Bungee : 1 Go
- Lobby : 2 Go
- Survie1/2 : 4 Go chacun
- Minage : 4 Go
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸš€ INSTALLER LE NODE (WINGS)</h2>
    <pre>
mkdir -p /etc/pterodactyl
cd /etc/pterodactyl
curl -Lo wings https://github.com/pterodactyl/wings/releases/latest/download/wings_linux_amd64
chmod +x wings

# Obtenir config dans le panel &gt; Nodes &gt; "Configurer Wings"
nano /etc/pterodactyl/config.yml
./wings
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>âš™ï¸ ACTIVER WINGS AU DÃ‰MARRAGE</h2>
    <pre>
nano /etc/systemd/system/wings.service

[Unit]
Description=Pterodactyl Wings Daemon
After=docker.service
Requires=docker.service

[Service]
User=root
WorkingDirectory=/etc/pterodactyl
ExecStart=/etc/pterodactyl/wings
Restart=on-failure

[Install]
WantedBy=multi-user.target

# Lancer
systemctl daemon-reexec
systemctl enable --now wings
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ§  EXPLICATION COMPLÃˆTE DE L'INSTALLATION</h2>
    <pre>
Ce tutoriel couvre toutes les Ã©tapes pour installer un serveur de jeux complet sur un seul VPS OVH, incluant :

- Le panel Pterodactyl (gestion web)
- Le node Wings (lance les serveurs via Docker)
- 5 serveurs Minecraft (Lobby, Survie, Minage, Proxy...)
- Un site communautaire (Azuriom)
- Un bot Discord en Python
- La sÃ©curitÃ© (UFW, Fail2Ban, HTTPS, sauvegardes)

Voici comment tout fonctionne ensemble :

1. Le script Pterodactyl installe automatiquement le panel web + dÃ©pendances.
2. Tu configures manuellement :
   - la base de donnÃ©es MariaDB
   - le fichier .env de Laravel
   - Nginx pour exposer le site
3. Tu crÃ©es les 5 serveurs dans lâ€™interface du panel avec RAM, CPU, ports.
4. Wings (le node) est installÃ© pour exÃ©cuter les serveurs (Docker).
5. Wings est lancÃ© en service systemd (redÃ©marrage automatique).
6. Azuriom est installÃ© comme CMS web Minecraft (Apache + PHP).
7. Un bot Discord est ajoutÃ© pour des automatisations simples.
8. UFW + Fail2ban assurent la sÃ©curitÃ© rÃ©seau.
9. HTTPS est activÃ© avec Certbot + Let's Encrypt (SSL).
10. Des sauvegardes automatiques sont mises en place avec cron.
11. Un systÃ¨me SMTP permet lâ€™envoi de mails depuis le panel.

ğŸ’¡ RÃ©sultat : tout est fonctionnel, sÃ©curisÃ©, et prÃªt pour hÃ©berger ta communautÃ© Minecraft/Discord !
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ§° INSTALLER LE PANEL PTERODACTYL AVEC LE SCRIPT AUTOMATIQUE</h2>
<pre>
# Connexion SSH Ã  votre VPS
ssh root@IP_DU_VPS

# TÃ©lÃ©charger le script officiel
bash <(curl -s https://raw.githubusercontent.com/pterodactyl-installer/pterodactyl-installer/main/install.sh)
    </pre>

    <h2>ğŸ”§ CONFIGURATION COMPLÃˆTE DU PANEL PTERODACTYL</h2>
<pre>
# Ã‰tapes principales aprÃ¨s installation automatique :

1. CrÃ©er la base de donnÃ©es dans MariaDB :
   mysql -u root -p
   CREATE DATABASE panel;
   CREATE USER 'ptero'@'127.0.0.1' IDENTIFIED BY 'motdepassefort';
   GRANT ALL PRIVILEGES ON panel.* TO 'ptero'@'127.0.0.1';
   FLUSH PRIVILEGES;
   EXIT;

2. Configurer l'environnement Laravel :
   cd /var/www/pterodactyl
   cp .env.example .env
   php artisan key:generate
   php artisan p:environment:setup
   php artisan p:environment:database
   php artisan migrate --seed --force
   php artisan p:user:make

3. Configurer Nginx pour le panel :
   nano /etc/nginx/sites-available/pterodactyl

   # Exemple de bloc :
   server {
       listen 80;
       server_name votre-domaine.fr;
       root /var/www/pterodactyl/public;

       index index.php;
       location / {
           try_files $uri $uri/ /index.php?$query_string;
       }

       location ~ \.(php|phar)$ {
           include snippets/fastcgi-php.conf;
           fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
           fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
           include fastcgi_params;
       }
   }

   ln -s /etc/nginx/sites-available/pterodactyl /etc/nginx/sites-enabled/pterodactyl
   systemctl restart nginx
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ“‚ CRÃ‰ER 5 SERVEURS VIA LE PANEL</h2>
<pre>
1. AccÃ©dez Ã  votre panel : https://votre-domaine-ou-ip
2. Connectez-vous en tant qu'administrateur
3. Allez dans : "Serveurs" > "CrÃ©er un serveur"
4. RÃ©pÃ©tez l'opÃ©ration pour les 5 serveurs :
   - Lobby
   - Survie1
   - Survie2
   - Minage
   - BungeeCord (ou Waterfall)

ğŸ’¡ Pensez Ã  dÃ©finir une allocation de RAM, un port, une image Docker valide (ex: ghcr.io/pterodactyl/yolks:java_17), et Ã  activer le serveur Wings associÃ©.
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ§  ALLOUER DE LA RAM Ã€ CHAQUE SERVEUR</h2>
<pre>
Lors de la crÃ©ation de chaque serveur :

1. Dans lâ€™onglet Â« Limites Â» :
   - MÃ©moire (RAM) : ex. 4096 pour 4 Go
   - MÃ©moire de swap : 0
   - CPU : 200 pour 2 cÅ“urs (200% d'un cÅ“ur)
   - Stockage : ex. 10240 pour 10 Go

2. Activer les limites :
   - Cochez Â« Appliquer les limites mÃ©moire Â»
   - Cochez Â« Bloquer sur dÃ©passement Â» si vous voulez Ã©viter les crash

ğŸ’¡ Exemple de rÃ©partition RAM sur un VPS 32 Go :
- Panel + Azuriom + MariaDB : 2-3 Go
- BungeeCord : 512 Mo Ã  1 Go
- Lobby : 2 Go
- Survie1 : 4 Go
- Survie2 : 4 Go
- Minage : 4 Go
- Discord Bot : < 256 Mo
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>âš™ï¸ ASTUCE POUR LANCEMENT AUTOMATIQUE DES SERVEURS</h2>
<pre>
# Assurez-vous que Wings est activÃ© au dÃ©marrage
sudo systemctl enable wings

# Les serveurs Pterodactyl se relanceront automatiquement aprÃ¨s reboot.
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸŒ INSTALLER UN SITE WEB (AZURIOM)</h2>
<pre>
# Installer Apache, PHP et MariaDB
sudo apt update && sudo apt install apache2 mariadb-server php php-mysql libapache2-mod-php unzip curl

# TÃ©lÃ©charger Azuriom
cd /var/www/html
sudo wget https://azuriom.com/download -O azuriom.zip
sudo unzip azuriom.zip
sudo chown -R www-data:www-data /var/www/html

# AccÃ©der au site via le navigateur
http://IP_DU_SERVEUR ou domaine pointÃ© vers le VPS
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸ¤– CRÃ‰ER UN BOT DISCORD SIMPLIFIÃ‰ (PYTHON)</h2>
<pre>
# Installer Python et pip
sudo apt install python3 python3-pip -y

# CrÃ©er le bot (fichier bot.py)
mkdir ~/botdiscord && cd ~/botdiscord
nano bot.py

# Exemple de code
import discord
from discord.ext import commands

bot = commands.commands.Bot(command_prefix="!")

@bot.event
async def on_ready():
    print(f"ConnectÃ© en tant que {bot.user}")

@bot.command()
async def ping(ctx):
    await ctx.send("Pong!")

bot.run("VOTRE_TOKEN")

# Installer dÃ©pendances et lancer
pip3 install -U discord.py
python3 bot.py
    </pre>

    <div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
    <h2>ğŸš€ INSTALLER LE NODE (WINGS)</h2>
<pre>
# CrÃ©er le dossier
mkdir -p /etc/pterodactyl
cd /etc/pterodactyl

# TÃ©lÃ©charger Wings
curl -Lo wings https://github.com/pterodactyl/wings/releases/latest/download/wings_linux_amd64
chmod +x wings

# CrÃ©er le fichier de configuration (depuis le panel)
# Dans le panel Pterodactyl : Configuration > Nodes > "Configurer Wings"
# Copier le contenu YAML et le coller dans :
nano /etc/pterodactyl/config.yml

# Lancer Wings
./wings

# (Optionnel) CrÃ©er un service systemd pour Wings
nano /etc/systemd/system/wings.service

# Contenu du fichier systemd :
[Unit]
Description=Pterodactyl Wings Daemon
After=docker.service
Requires=docker.service

[Service]
User=root
WorkingDirectory=/etc/pterodactyl
ExecStart=/etc/pterodactyl/wings
Restart=on-failure
StartLimitInterval=600
StartLimitBurst=5

[Install]
WantedBy=multi-user.target

# Activer et dÃ©marrer le service
systemctl daemon-reexec
systemctl enable --now wings
</pre>

<div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<h2>ğŸ” SÃ‰CURISER LE VPS (UFW + FAIL2BAN)</h2>
<pre>
# Activer le pare-feu UFW (autoriser SSH + HTTP/HTTPS)
sudo ufw allow OpenSSH
sudo ufw allow http
sudo ufw allow https
sudo ufw enable

# Installer fail2ban pour bloquer les attaques bruteforce
sudo apt install fail2ban -y
sudo systemctl enable fail2ban --now
</pre>

<div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<h2>ğŸ”’ ACTIVER HTTPS AVEC LET'S ENCRYPT</h2>
<pre>
# Installer Certbot
sudo apt install certbot python3-certbot-nginx -y

# Lancer la gÃ©nÃ©ration HTTPS pour le panel
sudo certbot --nginx -d votre-domaine.fr

# Renouvellement automatique inclus
</pre>

<div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<h2>ğŸ“¦ SAUVEGARDE AUTOMATIQUE DES SERVEURS</h2>
<pre>
# CrÃ©er un script de backup simple
sudo nano /usr/local/bin/backup-ptero.sh

# Exemple de contenu :
#!/bin/bash
tar -czf /root/backups/pterodactyl-$(date +%F).tar.gz /var/lib/pterodactyl

# Rendre le script exÃ©cutable
chmod +x /usr/local/bin/backup-ptero.sh

# Lancer tous les jours Ã  3h du matin
crontab -e
0 3 * * * /usr/local/bin/backup-ptero.sh
</pre>

<div class="sep">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
<h2>ğŸ“§ CONFIGURER SMTP POUR LE PANEL</h2>
<pre>
# Modifier le fichier .env
cd /var/www/pterodactyl
nano .env

MAIL_MAILER=smtp
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=votre@email.com
MAIL_PASSWORD=motdepasse
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=votre@email.com
MAIL_FROM_NAME="Crimson Panel"

# Appliquer la config
php artisan config:clear
</pre>

    <div class="navigation-buttons-container">
        <a href="projet.html">â¬…ï¸ Retour au rÃ©capitulatif</a>
        <a href="details.html">Voir les dÃ©tails supplÃ©mentaires</a>
    </div>

  </div>
</body>
</html>
